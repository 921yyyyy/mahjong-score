<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ€„ é«˜ç²¾åº¦è§£æ (Debug Mode)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
    <style>
        body { background-color: #1a202c; color: #e2e8f0; font-family: sans-serif; }
        .canvas-container { position: relative; width: 100%; border-radius: 8px; overflow: hidden; background: #000; border: 1px solid #2d3748; }
        #previewCanvas { width: 100%; display: block; }
        input[type="number"] { -moz-appearance: textfield; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®è¦‹ãŸç›®èª¿æ•´ */
        input[type="range"] { height: 6px; border-radius: 3px; background: #4a5568; accent-color: #ed8936; }
    </style>
</head>
<body class="p-2">
    <div class="max-w-lg mx-auto space-y-4">
        <header class="flex items-center gap-2 p-2 bg-slate-800 rounded-lg shadow-lg">
            <span class="text-2xl">ğŸ€„</span>
            <h1 class="text-lg font-bold">é«˜ç²¾åº¦è§£æ (Debug Mode)</h1>
        </header>

        <div class="p-4 bg-slate-800 rounded-xl shadow-md space-y-3">
            <input type="file" id="imageInput" accept="image/*" class="hidden">
            <button onclick="document.getElementById('imageInput').click()" class="w-full py-3 px-4 bg-indigo-100 hover:bg-indigo-200 text-indigo-800 font-bold rounded-lg flex items-center justify-center gap-2 transition-all">
                ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
            </button>

            <div class="flex gap-2">
                <button id="rotateBtn" class="flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg flex items-center justify-center gap-2">
                    â†º å›è»¢
                </button>
                <button id="analyzeBtn" class="flex-[1.5] py-3 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded-lg flex items-center justify-center gap-2">
                    ğŸ¯ è§£æé–‹å§‹
                </button>
            </div>
        </div>

        <div class="p-3 bg-gray-900 border border-orange-500/30 rounded-xl space-y-3">
            <div class="flex items-center gap-3">
                <span class="text-[11px] font-bold text-orange-400 w-16">ä¸Šä¸‹ç§»å‹•</span>
                <input type="range" id="adjustY" min="-300" max="300" value="0" class="flex-1 cursor-pointer">
            </div>
            <div class="flex items-center gap-3">
                <span class="text-[11px] font-bold text-orange-400 w-16">æ ã®é«˜ã•</span>
                <input type="range" id="adjustH" min="0.5" max="2.0" step="0.01" value="1.0" class="flex-1 cursor-pointer">
            </div>
            <p class="text-[10px] text-gray-500 text-center italic">â€»AIã®èµ¤æ ãŒã‚ºãƒ¬ãŸå ´åˆã€ä¸Šã®ãƒãƒ¼ã§æ•°å­—ã«åˆã‚ã›ã¦ãã ã•ã„</p>
        </div>

        <div class="canvas-container shadow-2xl">
            <canvas id="previewCanvas"></canvas>
        </div>

        <div id="debugLog" class="h-32 p-2 bg-black text-green-400 text-[10px] font-mono overflow-y-auto border border-green-900/50 rounded-lg">
            -- System Ready --
        </div>

        <div class="bg-white text-slate-900 rounded-xl shadow-xl overflow-hidden">
            <div class="grid grid-cols-9 bg-slate-100 py-2 text-[10px] font-bold text-center border-b">
                <div>å›</div><div colspan="2">A</div><div colspan="2">B</div><div colspan="2">C</div><div colspan="2">D</div>
            </div>
            <div id="scoreRows" class="divide-y divide-gray-100">
                </div>
            <div class="grid grid-cols-5 py-4 bg-slate-50 text-center text-sm font-bold border-t">
                <div class="text-gray-400 text-xs self-center">åˆè¨ˆ</div>
                <div id="totalA" class="text-blue-600">0</div>
                <div id="totalB" class="text-blue-600">0</div>
                <div id="totalC" class="text-blue-600">0</div>
                <div id="totalD" class="text-blue-600">0</div>
            </div>
        </div>

        <button id="saveData" class="w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg transition-transform active:scale-95">
            ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
        </button>
    </div>
    <script src="app.js"></script>
</body>
</html>
