<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STATS TEST PAGE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/supabase-js@2"></script>
</head>
<body class="bg-slate-50 p-4">

    <div class="max-w-md mx-auto space-y-6">
        <header class="flex justify-between items-center py-4">
            <h1 class="text-xl font-black italic text-blue-900">LEAGUE STATS</h1>
            <a href="index.html" class="text-xs font-bold text-slate-400 border border-slate-300 px-3 py-1 rounded-full">â† BACK</a>
        </header>

        <div id="mlb-grid-container" class="bg-white rounded-2xl shadow-sm overflow-hidden"></div>

        <div id="debug-status" class="text-[10px] text-slate-400 font-mono text-center">Loading Supabase Data...</div>
    </div>

         <!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONNECTION TEST</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body style="font-family: sans-serif; padding: 20px;">
    <h2>Supabase ç–é€šç¢ºèª</h2>
    <div id="status" style="padding: 10px; background: #eee; border-radius: 5px;">
        ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’èª­ã¿è¾¼ã¿ä¸­...
    </div>
    <div id="data-view" style="margin-top: 20px; font-size: 12px; white-space: pre-wrap;"></div>

    <script>
        const SUPABASE_URL = 'https://zekfibkimvsfbnctwzti.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpla2ZpYmtpbXZzZmJuY3R3enRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1ODU5NjYsImV4cCI6MjA4NDE2MTk2Nn0.AjW_4HvApe80USaHTAO_P7WeWaQvPo3xi3cpHm4hrFs';

        async function startTest() {
            const statusEl = document.getElementById('status');
            const dataEl = document.getElementById('data-view');

            // 2. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚ŒãŸã‹ãƒã‚§ãƒƒã‚¯
            if (!window.supabase) {
                statusEl.innerText = "âŒ ã‚¨ãƒ©ãƒ¼: Supabaseãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒèª­ã¿è¾¼ã‚ã¾ã›ã‚“";
                statusEl.style.color = "red";
                return;
            }

            statusEl.innerText = "ğŸ”„ æ¥ç¶šä¸­...";
            const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

            try {
                // 3. game_results ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
                const { data, error } = await supabase
                    .from('game_results')
                    .select('*')
                    .limit(5);

                if (error) {
                    statusEl.innerText = "âŒ é€šä¿¡ã‚¨ãƒ©ãƒ¼: " + error.message;
                    return;
                }

                if (data && data.length > 0) {
                    statusEl.innerText = "âœ… æˆåŠŸï¼ãƒ‡ãƒ¼ã‚¿ãŒå±Šãã¾ã—ãŸã€‚";
                    statusEl.style.background = "#d1fae5";
                    dataEl.innerText = JSON.stringify(data, null, 2);
                } else {
                    statusEl.innerText = "âš ï¸ æ¥ç¶šæˆåŠŸã—ã¾ã—ãŸãŒã€ãƒ‡ãƒ¼ã‚¿ãŒ0ä»¶ã§ã™ã€‚";
                }

            } catch (err) {
                statusEl.innerText = "âŒ ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼: " + err.message;
            }
        }

        // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿å®Œäº†ã‚’å¾…ã£ã¦ã‹ã‚‰å®Ÿè¡Œ
        window.onload = startTest;
    </script>
</body>
</html>

</body>
</html>
